// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

contract EvenOddContract {
  
    function isEven(uint256 number) external pure returns (bool) {
       return number%2==0;
    }
}

/*
============================================================
           Solidity 奇偶判斷 Gas 優化筆記
============================================================

1. 核心優化：位元與運算 (Bitwise AND)
------------------------------------------------------------
在電腦底層，所有數字都是二進位。
- 偶數的二進位最後一位一定是 0 (例如: 2 是 10, 4 是 100)
- 奇數的二進位最後一位一定是 1 (例如: 1 是 01, 3 是 11)

我們可以用 `& 1` 來檢查最後一位。如果結果是 0，那就是偶數。

2. 程式碼範例 (Optimized Version)
------------------------------------------------------------
pragma solidity ^0.8.20;

contract EvenOddContract {
    // 優化版本：使用位元運算
    function isEven(uint256 number) external pure returns (bool) {
        return (number & 1) == 0;
    }
}

3. 為什麼這樣比較省 Gas？ (The "Why")
------------------------------------------------------------
在 EVM (以太坊虛擬機) 的指令集中：
- % (MOD 指令)：執行除法取餘數，操作較為複雜，耗費約 5 Gas。
- & (AND 指令)：直接進行位元比對，非常底層且快速，耗費約 3 Gas。

雖然單次只省了幾點 Gas，但在大型迴圈或頻繁呼叫時，累積效果很明顯。

4. 綜合對比
------------------------------------------------------------
| 方法            | 程式碼範例           | 底層指令 | Gas 效率 | 可讀性 |
|----------------|---------------------|---------|----------|-------|
| 模除運算 (MOD)  | number % 2 == 0     | MOD     | 一般     | 極高   |
| 位元運算 (AND)  | (number & 1) == 0   | AND     | 優異     | 中等   |

5. 額外的小細節
------------------------------------------------------------
如果你追求極致，將 function 設為 `external` (如你目前所寫) 通常比 `public` 
在處理大數據輸入時更省 Gas，因為 `external` 可以直接從 calldata 讀取參數，
而不需要拷貝到 memory。

============================================================
*/